package com.springboot.web.goods;


import lombok.extern.slf4j.Slf4j;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

/**
 * <p>
 * 商品商品档案 前端控制器
 * </p>
 *
 * @author zjq
 * @since 2020-04-21
 */
@Controller
@RequestMapping("/api/daSpSpda")
@Slf4j
public class DaSpSpdaController {


//    @Resource
//    private DaSpSpdaService daSpSpdaService;
//    @Resource
//    private ElasticsearchTemplate elasticsearchTemplate;
//
//    @PostMapping("/es/add")
//    public Result add(@RequestBody EsDaSpSpdaJson esDaSpSpdaJson) {
//        EsDaSpSpdaJson bean=daSpSpdaService.esSave(esDaSpSpdaJson.getSixCode(),esDaSpSpdaJson);
//        return ResultGenerator.genSuccessResult(bean);
//    }
//    @PostMapping("/es/batchAdd")
//    public Result esBatchSave(@RequestBody EsDaSpSpdaJson esDaSpSpdaJson) {
//        Result result=null;
//        List<EsDaSpSpdaJson> list =daSpSpdaService.findEsList(esDaSpSpdaJson.getSixCode());
//        if(list!=null&&list.size()>0){
//            try {
//                daSpSpdaService.esBatchSave(esDaSpSpdaJson.getSixCode(),list);
//                result=ResultGenerator.genSuccessResult();
//                log.info("========>保存成功");
//            }catch(Exception e){
//                log.info("========>保存失败!");
//            }
//        }
//        return result;
//    }
//    @PostMapping("/es/delete")
//    public Result esDelete(@RequestBody EsDaSpSpdaJson esDaSpSpdaJson) {
//        daSpSpdaService.esDelete(esDaSpSpdaJson.getSixCode(),esDaSpSpdaJson);
//        return ResultGenerator.genSuccessResult();
//    }
//    //根据索引名称删除索引
//    @PostMapping("/es/deleteIndex")
//    public Result esdeleteIndex(@RequestBody String jsons) {
//        JSONObject jsonObject=JSONObject.parseObject(jsons);
//        String indexname= jsonObject.getString("indexName");
//        String[] atr=indexname.split(",");
//        for (int i = 0; i < atr.length; i++) {
//            elasticsearchTemplate.deleteIndex(atr[i]);
//        }
//        return ResultGenerator.genSuccessResult();
//    }
//    @PostMapping("/es/update")
//    public Result esupdate(@RequestBody EsDaSpSpdaJson esDaSpSpdaJson) {
//        daSpSpdaService.esUpdate(esDaSpSpdaJson.getSixCode(),esDaSpSpdaJson);
//        return ResultGenerator.genSuccessResult();
//    }
//    @PostMapping("/es/deleteAll")
//    public Result esdeleteAll(@RequestBody EsDaSpSpdaJson esDaSpSpdaJson) {
//        long start = System.currentTimeMillis();
//        log.info("start======>"+start);
//        daSpSpdaService.esDeleteAll(esDaSpSpdaJson.getSixCode());
//        long end = System.currentTimeMillis();
//        log.info("完成任务，耗时：" + (end - start) + "毫秒");
//        return ResultGenerator.genSuccessResult();
//    }
//    //无分页
//    @PostMapping("/es/search")
//    @JSON(type = EsDaSpSpdaJson.class, filter = "yhbh,pageNo,pageSize")
//    public Result essearch(@RequestBody EsDaSpSpdaJson esDaSpSpdaJson) {
//        List<EsDaSpSpdaJson> list=daSpSpdaService.esSearch(esDaSpSpdaJson.getSixCode(),esDaSpSpdaJson.getSpkh());
//        return ResultGenerator.genSuccessResult(list);
//    }
//    //有分页
//    @PostMapping("/es/searchPage")
//    @JSON(type = EsDaSpSpdaJson.class, filter = "yhbh,pageNo,pageSize")
//    public Result searchPage(@RequestBody EsDaSpSpdaJson esDaSpSpdaJson) {
//        Pages<EsDaSpSpdaJson> pages=daSpSpdaService.searchPage(esDaSpSpdaJson.getSixCode(),esDaSpSpdaJson);
//        log.info("searchPage==========>"+pages.getTotalPages());
//        return ResultGenerator.genSuccessResult(pages);
//    }

}

